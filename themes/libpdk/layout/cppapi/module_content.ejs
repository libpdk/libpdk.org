<%
let module = page.module;
let mpaths = [];
let modules = page.modules;
let parent = modules[module.parent];
while(parent) {
    mpaths.unshift({
        name: parent.name,
        url: url_for_api_entity(parent.refid)
    });
    parent = modules[parent.parent];
}
let catalog = get_site_data('cppapi/catalog');
let moduleIndex = catalog.cppapimodules;
mpaths.unshift({
    name: moduleIndex.name,
    url: url_for(moduleIndex.url)
});
module.defines.sort(sort_api_entity_by_name);
module.mpaths = mpaths;
%>
<div id="container" style="width: 100%">
    <div style={{width:"100%"}}>
        <div class="uk-container uk-margin-small-top uk-margin-small-bottom cppapidoc-page-container cppapidoc-module-content-page">
            <div class="manual-container uk-flex uk-flex-left">
                <div class="side-panel-container uk-visible@m">
                    <%- partial("_partial/cppapi/sidepanel") %>
                </div>
                <div class="uk-width-expand cppapidoc-info-container cppapidoc-module-content-info-container">
                    <% if (module.mpaths) { %>
                    <%- partial("_partial/cppapi/path", {
                        pathList: module.mpaths
                    }) %>
                    <% } %>
                    <h3 class="title uk-text-break"><%- module.name %></h3>
                    <% if (module.briefDescription.trim() != "") { %>
                    <div class="uk-text-small uk-text-break uk-margin-small-bottom uk-margin-small-top">
                        <%- module.briefDescription %>
                    </div>
                    <% } %>
                    <% if (module.detailDescription.trim() != "") { %>
                    <div class="uk-text-small uk-text-break uk-margin-small-bottom uk-margin-small-top">
                        <%- module.detailDescription %>
                    </div>
                    <% } %>

                    <%- partial("_partial/cppapi/module_section", {
                        modules: module.modules
                    }) %>
                    <%- partial("_partial/cppapi/namespace_section", {
                        namespaces: module.namespaces,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/cppapi/class_section", {
                        classes: module.classes,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/cppapi/macro_section", {
                        defines: module.defines
                    }) %>
                    <%- partial("_partial/cppapi/typedef_section", {
                        typedefs: module.typedefs,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/cppapi/enum_section", {
                        enums: module.enums,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/cppapi/function_section", {
                        funcs: module.funcs,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/cppapi/variable_section", {
                        variables: module.variables,
                        showSimpleName: false
                    }) %>
                    <%- partial("_partial/cppapi/macro_info_section", {
                        defines: module.defines,
                        containerId: module.refid
                    }) %>
                    <%- partial("_partial/cppapi/typedef_info_section", {
                        typedefs: module.typedefs,
                        containerId: module.refid
                    }) %>
                    <%- partial("_partial/cppapi/enum_info_section", {
                        enums: module.enums,
                        containerId: module.refid
                    }) %>
                    <%- partial("_partial/cppapi/function_info_section", {
                        funcs: module.funcs,
                        containerId: module.refid
                    }) %>
                    <%- partial("_partial/cppapi/variable_info_section", {
                        variables: module.variables,
                        containerId: module.refid
                    }) %>
                    <div class="doxygen-info">generated by Doxygen: <%- get_doxygen_version() %></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
   $(document).ready(function ()
   {
      if (location.hash.trim().length > 0) {
         var target = $(location.hash);
         if (target.length > 0) {
            $('html,body')
            .stop()
            .animate({scrollTop: Math.round($(location.hash).offset().top)}, 0);
         }
      }
      $(".page-scroll-trigger").each(function(){
         var targetUrl = $(this).attr('href');
         var parts = targetUrl.split('#');
         if (parts) {
            targetUrl = parts[0];
         }
         if (targetUrl == location.pathname) {
            UIkit.scroll(this);
            $(this).on('scrolled', function () {
               location.hash = parts[1];
            });
         }
      });
      $(".detail-description table").each(function ()
      {
         $(this).addClass("uk-table uk-table-divider uk-table-small uk-table-striped");
      });
   });
</script>